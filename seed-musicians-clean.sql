-- Clean musician profiles seed data
-- This will create auth users and corresponding profiles

-- Create auth users first
INSERT INTO auth.users (
  id, 
  instance_id,
  aud, 
  role, 
  email, 
  encrypted_password,
  email_confirmed_at,
  created_at,
  updated_at,
  raw_user_meta_data,
  is_super_admin
) VALUES 
(
  '11111111-1111-1111-1111-111111111111',
  '00000000-0000-0000-0000-000000000000',
  'authenticated',
  'authenticated',
  'joe@example.com',
  crypt('tempPassword123!', gen_salt('bf')),
  now(),
  now(),
  now(),
  '{"username": "guitarjoe", "full_name": "Joe Martinez"}',
  false
),
(
  '22222222-2222-2222-2222-222222222222',
  '00000000-0000-0000-0000-000000000000',
  'authenticated',
  'authenticated',
  'sarah@example.com',
  crypt('tempPassword123!', gen_salt('bf')),
  now(),
  now(),
  now(),
  '{"username": "bassline_sarah", "full_name": "Sarah Johnson"}',
  false
),
(
  '33333333-3333-3333-3333-333333333333',
  '00000000-0000-0000-0000-000000000000',
  'authenticated',
  'authenticated',
  'dan@example.com',
  crypt('tempPassword123!', gen_salt('bf')),
  now(),
  now(),
  now(),
  '{"username": "drummerdan", "full_name": "Daniel Rodriguez"}',
  false
),
(
  '44444444-4444-4444-4444-444444444444',
  '00000000-0000-0000-0000-000000000000',
  'authenticated',
  'authenticated',
  'emily@example.com',
  crypt('tempPassword123!', gen_salt('bf')),
  now(),
  now(),
  now(),
  '{"username": "piano_keys", "full_name": "Emily Chen"}',
  false
),
(
  '55555555-5555-5555-5555-555555555555',
  '00000000-0000-0000-0000-000000000000',
  'authenticated',
  'authenticated',
  'maya@example.com',
  crypt('tempPassword123!', gen_salt('bf')),
  now(),
  now(),
  now(),
  '{"username": "violinist_maya", "full_name": "Maya Patel"}',
  false
),
(
  '66666666-6666-6666-6666-666666666666',
  '00000000-0000-0000-0000-000000000000',
  'authenticated',
  'authenticated',
  'marcus@example.com',
  crypt('tempPassword123!', gen_salt('bf')),
  now(),
  now(),
  now(),
  '{"username": "sax_master", "full_name": "Marcus Williams"}',
  false
),
(
  '77777777-7777-7777-7777-777777777777',
  '00000000-0000-0000-0000-000000000000',
  'authenticated',
  'authenticated',
  'alex@example.com',
  crypt('tempPassword123!', gen_salt('bf')),
  now(),
  now(),
  now(),
  '{"username": "vocals_alex", "full_name": "Alex Thompson"}',
  false
),
(
  '88888888-8888-8888-8888-888888888888',
  '00000000-0000-0000-0000-000000000000',
  'authenticated',
  'authenticated',
  'grace@example.com',
  crypt('tempPassword123!', gen_salt('bf')),
  now(),
  now(),
  now(),
  '{"username": "cellist_grace", "full_name": "Grace Liu"}',
  false
),
(
  '99999999-9999-9999-9999-999999999999',
  '00000000-0000-0000-0000-000000000000',
  'authenticated',
  'authenticated',
  'tony@example.com',
  crypt('tempPassword123!', gen_salt('bf')),
  now(),
  now(),
  now(),
  '{"username": "trumpet_tony", "full_name": "Tony Rossi"}',
  false
),
(
  'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa',
  '00000000-0000-0000-0000-000000000000',
  'authenticated',
  'authenticated',
  'sam@example.com',
  crypt('tempPassword123!', gen_salt('bf')),
  now(),
  now(),
  now(),
  '{"username": "synth_sam", "full_name": "Sam Park"}',
  false
)
ON CONFLICT (id) DO NOTHING;

-- Create corresponding identities
INSERT INTO auth.identities (
  provider_id,
  user_id,
  identity_data,
  provider,
  created_at,
  updated_at
) VALUES 
('joe@example.com', '11111111-1111-1111-1111-111111111111', '{"sub": "11111111-1111-1111-1111-111111111111", "email": "joe@example.com"}', 'email', now(), now()),
('sarah@example.com', '22222222-2222-2222-2222-222222222222', '{"sub": "22222222-2222-2222-2222-222222222222", "email": "sarah@example.com"}', 'email', now(), now()),
('dan@example.com', '33333333-3333-3333-3333-333333333333', '{"sub": "33333333-3333-3333-3333-333333333333", "email": "dan@example.com"}', 'email', now(), now()),
('emily@example.com', '44444444-4444-4444-4444-444444444444', '{"sub": "44444444-4444-4444-4444-444444444444", "email": "emily@example.com"}', 'email', now(), now()),
('maya@example.com', '55555555-5555-5555-5555-555555555555', '{"sub": "55555555-5555-5555-5555-555555555555", "email": "maya@example.com"}', 'email', now(), now()),
('marcus@example.com', '66666666-6666-6666-6666-666666666666', '{"sub": "66666666-6666-6666-6666-666666666666", "email": "marcus@example.com"}', 'email', now(), now()),
('alex@example.com', '77777777-7777-7777-7777-777777777777', '{"sub": "77777777-7777-7777-7777-777777777777", "email": "alex@example.com"}', 'email', now(), now()),
('grace@example.com', '88888888-8888-8888-8888-888888888888', '{"sub": "88888888-8888-8888-8888-888888888888", "email": "grace@example.com"}', 'email', now(), now()),
('tony@example.com', '99999999-9999-9999-9999-999999999999', '{"sub": "99999999-9999-9999-9999-999999999999", "email": "tony@example.com"}', 'email', now(), now()),
('sam@example.com', 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', '{"sub": "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa", "email": "sam@example.com"}', 'email', now(), now())
ON CONFLICT (provider_id, provider) DO NOTHING;

-- Insert profiles
INSERT INTO public.profiles (
  user_id, 
  username, 
  full_name, 
  email, 
  main_instrument, 
  secondary_instruments, 
  bio, 
  experience_level, 
  city, 
  state, 
  zip_code, 
  seeking, 
  genres, 
  is_published, 
  last_active,
  created_at,
  updated_at
) VALUES 
(
  '11111111-1111-1111-1111-111111111111', 
  'guitarjoe', 
  'Joe Martinez', 
  'joe@example.com', 
  'Guitar', 
  '{"Vocals"}', 
  'Rock guitarist with 10 years of experience. Love playing blues and classic rock. Looking for a band to jam with!', 
  'advanced', 
  'Austin', 
  'TX', 
  '78701', 
  '{"band_members","collaborations"}', 
  '{"rock","blues","classic rock"}', 
  true, 
  now() - interval '2 hours',
  now(),
  now()
),
(
  '22222222-2222-2222-2222-222222222222', 
  'bassline_sarah', 
  'Sarah Johnson', 
  'sarah@example.com', 
  'Bass', 
  '{"Vocals"}', 
  'Funk and jazz bass player. Been playing for 8 years and love grooving with other musicians. Always down for a good jam session!', 
  'intermediate', 
  'Nashville', 
  'TN', 
  '37203', 
  '{"band_members","jam_sessions"}', 
  '{"funk","jazz","r&b"}', 
  true, 
  now() - interval '1 day',
  now(),
  now()
),
(
  '33333333-3333-3333-3333-333333333333', 
  'drummerdan', 
  'Daniel Rodriguez', 
  'dan@example.com', 
  'Drums', 
  '{}', 
  'Professional drummer available for gigs and sessions. Played with multiple bands across different genres. Hit me up if you need solid rhythm!', 
  'professional', 
  'Los Angeles', 
  'CA', 
  '90210', 
  '{"gigs","session_work"}', 
  '{"rock","pop","jazz","latin"}', 
  true, 
  now() - interval '30 minutes',
  now(),
  now()
),
(
  '44444444-4444-4444-4444-444444444444', 
  'piano_keys', 
  'Emily Chen', 
  'emily@example.com', 
  'Piano', 
  '{"Vocals","Synthesizer"}', 
  'Classical trained pianist exploring jazz and contemporary music. Love creating arrangements and writing original songs.', 
  'advanced', 
  'Seattle', 
  'WA', 
  '98101', 
  '{"collaborations","band_members"}', 
  '{"jazz","classical","indie"}', 
  true, 
  now() - interval '3 days',
  now(),
  now()
),
(
  '55555555-5555-5555-5555-555555555555', 
  'violinist_maya', 
  'Maya Patel', 
  'maya@example.com', 
  'Violin', 
  '{"Viola"}', 
  'Versatile violinist comfortable in classical, folk, and experimental music. Looking to explore new musical territories!', 
  'advanced', 
  'Boston', 
  'MA', 
  '02101', 
  '{"collaborations","experimental"}', 
  '{"classical","folk","experimental"}', 
  true, 
  now() - interval '5 hours',
  now(),
  now()
),
(
  '66666666-6666-6666-6666-666666666666', 
  'sax_master', 
  'Marcus Williams', 
  'marcus@example.com', 
  'Saxophone', 
  '{"Flute"}', 
  'Jazz saxophonist with a passion for bebop and fusion. Available for gigs and always looking for other jazz cats to play with.', 
  'professional', 
  'Chicago', 
  'IL', 
  '60601', 
  '{"gigs","jam_sessions"}', 
  '{"jazz","bebop","fusion"}', 
  true, 
  now() - interval '15 minutes',
  now(),
  now()
),
(
  '77777777-7777-7777-7777-777777777777', 
  'vocals_alex', 
  'Alex Thompson', 
  'alex@example.com', 
  'Vocals', 
  '{"Guitar"}', 
  'Singer-songwriter with indie folk vibes. Write my own music and love collaborating with other musicians on original material.', 
  'intermediate', 
  'Portland', 
  'OR', 
  '97201', 
  '{"collaborations","band_members"}', 
  '{"indie","folk","singer-songwriter"}', 
  true, 
  now() - interval '6 hours',
  now(),
  now()
),
(
  '88888888-8888-8888-8888-888888888888', 
  'cellist_grace', 
  'Grace Liu', 
  'grace@example.com', 
  'Cello', 
  '{}', 
  'Classically trained cellist interested in crossover projects. Love playing everything from Bach to Radiohead arrangements.', 
  'advanced', 
  'San Francisco', 
  'CA', 
  '94102', 
  '{"collaborations","experimental"}', 
  '{"classical","crossover","alternative"}', 
  true, 
  now() - interval '8 hours',
  now(),
  now()
),
(
  '99999999-9999-9999-9999-999999999999', 
  'trumpet_tony', 
  'Tony Rossi', 
  'tony@example.com', 
  'Trumpet', 
  '{}', 
  'Jazz and latin trumpet player. Play in a local salsa band and always looking for new musical adventures!', 
  'intermediate', 
  'Miami', 
  'FL', 
  '33101', 
  '{"band_members","gigs"}', 
  '{"jazz","latin","salsa"}', 
  true, 
  now() - interval '12 hours',
  now(),
  now()
),
(
  'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
  'synth_sam', 
  'Sam Park', 
  'sam@example.com', 
  'Synthesizer', 
  '{"Piano","Vocals"}', 
  'Electronic music producer and synth player. Love creating atmospheric soundscapes and collaborating on experimental projects.', 
  'intermediate', 
  'Denver', 
  'CO', 
  '80201', 
  '{"collaborations","experimental"}', 
  '{"electronic","ambient","experimental"}', 
  true, 
  now() - interval '4 hours',
  now(),
  now()
)
ON CONFLICT (user_id) DO NOTHING;